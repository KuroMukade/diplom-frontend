"use strict";(self.webpackChunkulbi_course=self.webpackChunkulbi_course||[]).push([[6],{1006:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(2373),a=n(8709),o=n(9958),i=n(1050),l=n(8901),u=n(229),c=n(1338),s=n(6568),d=n(1895),f=n(9016),p=function(e){var t;return(null===(t=e.registerForm)||void 0===t?void 0:t.email)||""},v=function(e){var t;return(null===(t=e.registerForm)||void 0===t?void 0:t.password)||""},h=function(e){var t;return(null===(t=e.registerForm)||void 0===t?void 0:t.isLoading)||!1},b=function(e){var t;return null===(t=e.registerForm)||void 0===t?void 0:t.error},y=n(8019),g=n(3581),m=n(2386),w=n(8899),x=(0,y.hg)("register/registerByEmail",(function(e,t){return n=void 0,r=void 0,o=function(){var n,r,a,o,i;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(l){switch(l.label){case 0:n=t.dispatch,r=t.extra,a=t.rejectWithValue,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,r.api.post("/registration",e)];case 2:if(!(o=l.sent()).data)throw new Error;return localStorage.setItem(w.z,JSON.stringify(o.data)),n(g.hI.setAuthData(o.data)),null===(i=r.navigate)||void 0===i||i.call(r,"/profile"),[2,o.data];case 3:return l.sent(),[2,a(m.a.t("Не удалось зарегистрироваться"))];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{u(o.next(e))}catch(e){t(e)}}function l(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,l)}u((o=o.apply(n,r||[])).next())}));var n,r,a,o})),k=(0,y.oM)({name:"register",initialState:{email:"",password:"",isLoading:!1},reducers:{setEmail:function(e,t){e.email=t.payload},setPassword:function(e,t){e.password=t.payload}},extraReducers:function(e){e.addCase(x.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(x.fulfilled,(function(e){e.isLoading=!1})).addCase(x.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),C=k.actions,j=k.reducer,E=n(9254),N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},N.apply(this,arguments)},I={registerForm:j};const T=(0,a.memo)((function(e){var t=e.className,n=e.onSuccess,y=(0,f.$)().t,g=(0,s.T)(),m=(0,o.v9)(p),w=(0,o.v9)(v),k=(0,o.v9)(h),j=(0,o.v9)(b);(0,d.q)("registerForm",I,!0);var T=(0,a.useCallback)((function(e){g(C.setPassword(e))}),[g]),O=(0,a.useCallback)((function(e){g(C.setEmail(e))}),[g]),S=(0,a.useCallback)((function(){return e=void 0,t=void 0,a=function(){return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(e){switch(e.label){case 0:return[4,g(x({email:m,password:w}))];case 1:return"fulfilled"===e.sent().meta.requestStatus&&(null==n||n()),[2]}}))},new((r=void 0)||(r=Promise))((function(n,o){function i(e){try{u(a.next(e))}catch(e){o(e)}}function l(e){try{u(a.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}u((a=a.apply(e,t||[])).next())}));var e,t,r,a}),[g,m,w,n]);return(0,r.jsxs)("div",N({className:(0,i.A)(E.Z.wrapper,{},[t])},{children:[(0,r.jsx)(c.xv,{theme:c.lg.CLEAR,className:E.Z.title,title:y("Регистрация")}),j&&(0,r.jsx)(c.xv,{theme:c.lg.ERROR,text:j}),(0,r.jsxs)("div",N({className:E.Z.inputWrapper},{children:[(0,r.jsx)(l.I,{tabIndex:-1,className:E.Z.username,value:m,placeholder:y("Почта"),onChange:O,type:"text"}),(0,r.jsx)(l.I,{tabIndex:-2,className:E.Z.password,value:w,placeholder:y("Пароль"),onChange:T,type:"password"})]})),(0,r.jsx)(u.zx,N({growthColor:u.Bc.DEFAULT,className:E.Z.btn,disabled:k,onClick:S,theme:u.UH.OUTLINE},{children:y("Зарегистрироваться")}))]}))}))},6568:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(9958),a=function(){return(0,r.I0)()}},1895:(e,t,n)=>{n.d(t,{q:()=>o});var r=n(8709),a=n(9958);function o(e,t,n){var o=(0,a.oR)(),i=(0,a.I0)();(0,r.useEffect)((function(){return Object.entries(t).forEach((function(t){var n=t[0],r=t[1];o.reducerManager.add(n,r),i({type:"@INIT ".concat(e," reducer")})})),function(){n&&Object.entries(t).forEach((function(t){var n=t[0];o.reducerManager.remove(n),i({type:"@DESTROY ".concat(e," reducer")})}))}}),[i,e,t,n,o])}},8901:(e,t,n)=>{n.d(t,{I:()=>l});var r=n(2373),a=n(8709),o=n(1050),i=n(8297),l=(0,a.memo)((function(e){var t,n=e.className,a=e.onChange,l=e.value,u=e.type,c=void 0===u?"text":u,s=e.placeholder,d=void 0===s?"":s,f=e.readonly,p=void 0!==f&&f,v=((t={})[i.Z.readonly]=p,t);return(0,r.jsx)("input",{value:l,type:c,placeholder:d,onChange:function(e){null==a||a(e.target.value)},readOnly:p,className:(0,o.A)(i.Z.input,v,[n])})}))},9254:(e,t,n)=>{n.d(t,{Z:()=>r});const r={wrapper:"DlgingHe",title:"fm9fnWTD",inputWrapper:"KObRlpXN",btn:"lTTWSggz"};var a=n(3067)(e.id,{locals:!0});e.hot.dispose(a)},8297:(e,t,n)=>{n.d(t,{Z:()=>r});const r={input:"LVdIPwcx",readonly:"fTN1PnWu"};var a=n(3067)(e.id,{locals:!0});e.hot.dispose(a)}}]);