"use strict";(self.webpackChunkulbi_course=self.webpackChunkulbi_course||[]).push([[589],{6589:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(2373),o=n(1050),a=n(8019),i=n(2386),c=(0,a.hg)("todoList/fetchTodoData",(function(e,t){return n=void 0,r=void 0,a=function(){var e,n;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(r){switch(r.label){case 0:e=t.extra,n=t.rejectWithValue,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.api.get("/todos")];case 2:return[2,r.sent().data];case 3:return r.sent(),[2,n(i.a.t("Не удалось запросить список тудушек"))];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{u(a.next(e))}catch(e){t(e)}}function c(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,c)}u((a=a.apply(n,r||[])).next())}));var n,r,o,a})),u=(0,a.hg)("todo/deleteTodo",(function(e,t){return n=void 0,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(o){switch(o.label){case 0:n=t.extra,r=t.rejectWithValue,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.api.delete("/todos/".concat(e.todoId))];case 2:return[2,o.sent().data];case 3:return o.sent(),[2,r(i.a.t("Не удалось запросить информацию о туду"))];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{u(a.next(e))}catch(e){t(e)}}function c(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,c)}u((a=a.apply(n,r||[])).next())}));var n,r,o,a})),s=(0,a.oM)({name:"todoList",initialState:{isLoading:!1,data:void 0,error:void 0},reducers:{setTodos:function(e,t){e.data=t.payload}},extraReducers:function(e){e.addCase(c.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(c.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload})).addCase(c.rejected,(function(e,t){e.error=t.payload,e.isLoading=!1})).addCase(u.pending,(function(e){e.isLoading=!0})).addCase(u.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload})).addCase(u.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),l=(s.actions,s.reducer),d=n(8709),f=n(9958),p=n(6568),v=n(2895),h=n(1895),y=n(1338),b=n(9016),w=n(415),x=function(e){var t;return null===(t=e.todoList)||void 0===t?void 0:t.data},g=function(e){var t;return(null===(t=e.todoList)||void 0===t?void 0:t.isLoading)||!1},j=function(e){var t;return null===(t=e.todoList)||void 0===t?void 0:t.error},m=n(167),L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},L.apply(this,arguments)},k={todoList:l},E=function(e){var t=e.className,n=(0,b.$)().t;(0,h.q)("todoList",k,!1);var a=(0,p.T)();(0,d.useEffect)((function(){a(c())}),[a]);var i=(0,f.v9)(x),s=(0,f.v9)(g),l=(0,f.v9)(j),E=(0,d.useCallback)((function(e){a(u({todoId:e}))}),[a]);return s?(0,r.jsx)("div",L({className:(0,o.A)(m.Z.wrapper,{},[t])},{children:(0,r.jsx)(v.a,{})})):l===n("Не удалось запросить список тудушек")?(0,r.jsx)("div",L({className:(0,o.A)(m.Z.wrapper,{},[t])},{children:(0,r.jsx)(y.xv,{textSize:y.yH.LARGE,theme:y.lg.ERROR,text:n("У вас еще нет созданных туду. Для начала работы необходимо иметь хотя бы 1 список дел")})})):l?(0,r.jsx)("div",L({className:(0,o.A)(m.Z.wrapper,{},[t])},{children:(0,r.jsx)(y.xv,{text:n("Попробуйте перезагрузить страницу"),title:n("Произошла ошибка")})})):(0,r.jsx)("div",L({className:(0,o.A)(m.Z.wrapper,{},[t])},{children:null==i?void 0:i.map((function(e){return(0,r.jsx)(w.GL,{className:m.Z.todo,onDelete:E,title:e.title,id:e._id},e._id)}))}))},N=n(2614),O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O.apply(this,arguments)};const T=function(e){var t=e.className,n=(0,b.$)("todo").t;return(0,r.jsxs)("div",O({className:(0,o.A)(N.Z.wrapper,{},[t])},{children:[(0,r.jsx)(y.xv,{textSize:y.yH.LARGE,title:n("Список дел")}),(0,r.jsx)(E,{className:N.Z.todolist})]}))}},6568:(e,t,n)=>{n.d(t,{T:()=>o});var r=n(9958),o=function(){return(0,r.I0)()}},1895:(e,t,n)=>{n.d(t,{q:()=>a});var r=n(8709),o=n(9958);function a(e,t,n){var a=(0,o.oR)(),i=(0,o.I0)();(0,r.useEffect)((function(){return Object.entries(t).forEach((function(t){var n=t[0],r=t[1];a.reducerManager.add(n,r),i({type:"@INIT ".concat(e," reducer")})})),function(){n&&Object.entries(t).forEach((function(t){var n=t[0];a.reducerManager.remove(n),i({type:"@DESTROY ".concat(e," reducer")})}))}}),[i,e,t,n,a])}},2614:(e,t,n)=>{n.d(t,{Z:()=>r});const r={wrapper:"JvzENwNW",todolist:"Jt5FHzqS"};var o=n(3067)(e.id,{locals:!0});e.hot.dispose(o)},167:(e,t,n)=>{n.d(t,{Z:()=>r});const r={wrapper:"zUd7D3pm",todo:"HvEncxZT"};var o=n(3067)(e.id,{locals:!0});e.hot.dispose(o)}}]);